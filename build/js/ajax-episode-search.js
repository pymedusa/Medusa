!function e(a,t,r){function s(i,n){if(!t[i]){if(!a[i]){var c="function"==typeof require&&require;if(!n&&c)return c(i,!0);if(o)return o(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var l=t[i]={exports:{}};a[i][0].call(l.exports,function(e){var t=a[i][1][e];return s(t||e)},l,l.exports,e,a,t,r)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(e,a,t){const r="home/getManualSearchStatus";let s=!1,o=!1,i="";PNotify.prototype.options.maxonscreen=5,$.fn.forcedSearches=[];const n=e=>{e.on("click.disabled",!1),e.prop("enableClick","1"),e.fadeTo("fast",1)},c=e=>{e.off("click.disabled"),e.prop("enableClick","0"),e.fadeTo("fast",.5)},p=()=>{const e=$("#series-id").val(),a=void 0===e?r:r+"?show="+e;let t=5e3;$.ajax({url:a,error(){t=3e4},type:"GET",dataType:"JSON",complete(){setTimeout(p,t)},timeout:15e3}).done(e=>{t=e.episodes?5e3:15e3,l=e,$.each(l.episodes,(e,a)=>{const t="loading16.gif";let r="";const s=$("a[id="+a.show+"x"+a.season+"x"+a.episode+"]"),o=s.children("img[data-ep-search]"),i=s.parent();if(s){let e="";"searching"===a.searchstatus.toLowerCase()?(o.prop("title","Searching"),o.prop("alt","Searching"),o.prop("src","images/"+t),c(s),r=a.searchstatus):"queued"===a.searchstatus.toLowerCase()?(o.prop("title","Queued"),o.prop("alt","queued"),o.prop("src","images/queued.png"),c(s),r=a.searchstatus):"finished"===a.searchstatus.toLowerCase()&&(o.prop("title","Searching"),o.prop("alt","searching"),o.parent().prop("class","epRetry"),o.prop("src","images/search16.png"),n(s),e=/(\w+(\s\((\bBest\b|\bProper\b)\))?)\s\((.+?)\)/,r=a.status.replace(e,'$1 <span class="quality '+a.quality+'">$4</span>'),i.closest("tr").prop("class",a.overview+" season-"+a.season+" seasonstyle")),i.siblings(".col-status").html(r)}const p=$("a[id=forceUpdate-"+a.show+"x"+a.season+"x"+a.episode+"]"),l=p.children("img");p&&("searching"===a.searchstatus.toLowerCase()?(l.prop("title","Searching"),l.prop("alt","Searching"),l.prop("src","images/"+t),c(p)):"queued"===a.searchstatus.toLowerCase()?(l.prop("title","Queued"),l.prop("alt","queued"),l.prop("src","images/queued.png")):"finished"===a.searchstatus.toLowerCase()&&(l.prop("title","Forced Search"),l.prop("alt","[search]"),l.prop("src","images/search16.png"),"snatched"===a.overview.toLowerCase()?p.closest("tr").remove():n(p)))})})};var l;$(document).ready(()=>p()),$.ajaxEpSearch=function(e){e=$.extend({},{size:16,colorRow:!1,loadingImage:"loading16.gif",queuedImage:"queued.png",noImage:"no16.png",yesImage:"yes16.png"},e),$(".epRetry").on("click",function(e){if(e.preventDefault(),"0"===$(this).prop("enableClick"))return!1;i=$(this),$("#forcedSearchModalFailed").modal("show")});const a=()=>{const a=i.parent();let t,r,n;const p=i,l=i.children("img");l.prop("title","loading"),l.prop("alt",""),l.prop("src","images/"+e.loadingImage);let d=i.prop("href");return s||(d=d.replace("retryEpisode","searchEpisode")),o&&d.indexOf("retryEpisode")>=0&&(d+="&down_cur_quality=1"),$.getJSON(d,s=>{if("failure"===s.result.toLowerCase())t=e.noImage,r="failed";else{t=e.loadingImage,r="success",e.colorRow&&a.parent().removeClass("skipped wanted qual good unaired").addClass("snatched");n=s.result.replace(/(\w+)\s\((.+?)\)/,'$1 <span class="quality '+s.quality+'">$2</span>'),a.siblings(".col-status").html(n),c(p)}l.prop("title",r),l.prop("alt",r),l.prop("height",e.size),l.prop("src","images/"+t)}),!1};$(".epSearch").on("click",function(e){if(e.preventDefault(),"0"===$(this).prop("enableClick"))return!1;i=$(this),$(this).parent().parent().children(".col-status").children(".quality").length>0?$("#forcedSearchModalQuality").modal("show"):a()}),$(".epManualSearch").on("click",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return!1;$(".epManualSearch").addClass("disabled"),$(".epManualSearch").fadeTo(1,.1);const a=this.href;e.shiftKey||e.ctrlKey||2===e.which?window.open(a,"_blank"):window.location=a}),$("#forcedSearchModalFailed .btn").on("click",function(){s="yes"===$(this).text().toLowerCase(),$("#forcedSearchModalQuality").modal("show")}),$("#forcedSearchModalQuality .btn").on("click",function(){o="yes"===$(this).text().toLowerCase(),a()})}},{}]},{},[1]);
//# sourceMappingURL=ajax-episode-search.js.map
