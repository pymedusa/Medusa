!function t(o,e,s){function i(n,a){if(!e[n]){if(!o[n]){var h="function"==typeof require&&require;if(!a&&h)return h(n,!0);if(r)return r(n,!0);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}var c=e[n]={exports:{}};o[n][0].call(c.exports,function(t){var e=o[n][1][t];return i(e||t)},c,c.exports,t,o,e,s)}return e[n].exports}for(var r="function"==typeof require&&require,n=0;n<s.length;n++)i(s[n]);return i}({1:[function(t,o,e){"use strict";var s=Object.prototype.hasOwnProperty;function i(t){return decodeURIComponent(t.replace(/\+/g," "))}e.stringify=function(t,o){var e=[];"string"!=typeof(o=o||"")&&(o="?");for(var i in t)s.call(t,i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.length?o+e.join("&"):""},e.parse=function(t){for(var o,e=/([^=?&]+)=?([^&]*)/g,s={};o=e.exec(t);s[i(o[1])]=i(o[2]));return s}},{}],2:[function(t,o,e){"use strict";o.exports=function(t,o){if(o=o.split(":")[0],!(t=+t))return!1;switch(o){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],3:[function(t,o,e){(function(e){"use strict";var s=t("requires-port"),i=t("querystringify"),r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,n=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function p(t){var o,s={},i=typeof(t=t||e.location||{});if("blob:"===t.protocol)s=new l(unescape(t.pathname),{});else if("string"===i){s=new l(t,{});for(o in h)delete s[o]}else if("object"===i){for(o in t)o in h||(s[o]=t[o]);void 0===s.slashes&&(s.slashes=n.test(t.href))}return s}function c(t){var o=r.exec(t);return{protocol:o[1]?o[1].toLowerCase():"",slashes:!!o[2],rest:o[3]}}function l(t,o,e){if(!(this instanceof l))return new l(t,o,e);var r,n,h,f,u,y,d=a.slice(),g=typeof o,w=0;for("object"!==g&&"string"!==g&&(e=o,o=null),e&&"function"!=typeof e&&(e=i.parse),o=p(o),r=!(n=c(t||"")).protocol&&!n.slashes,this.slashes=n.slashes||r&&o.slashes,this.protocol=n.protocol||o.protocol||"",t=n.rest,n.slashes||(d[2]=[/(.*)/,"pathname"]);w<d.length;w++)h=(f=d[w])[0],y=f[1],h!=h?this[y]=t:"string"==typeof h?~(u=t.indexOf(h))&&("number"==typeof f[2]?(this[y]=t.slice(0,u),t=t.slice(u+f[2])):(this[y]=t.slice(u),t=t.slice(0,u))):(u=h.exec(t))&&(this[y]=u[1],t=t.slice(0,u.index)),this[y]=this[y]||(r&&f[3]?o[y]||"":""),f[4]&&(this[y]=this[y].toLowerCase());e&&(this.query=e(this.query)),r&&o.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==o.pathname)&&(this.pathname=function(t,o){for(var e=(o||"/").split("/").slice(0,-1).concat(t.split("/")),s=e.length,i=e[s-1],r=!1,n=0;s--;)"."===e[s]?e.splice(s,1):".."===e[s]?(e.splice(s,1),n++):n&&(0===s&&(r=!0),e.splice(s,1),n--);return r&&e.unshift(""),"."!==i&&".."!==i||e.push(""),e.join("/")}(this.pathname,o.pathname)),s(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(f=this.auth.split(":"),this.username=f[0]||"",this.password=f[1]||""),this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}l.prototype={set:function(t,o,e){switch(t){case"query":"string"==typeof o&&o.length&&(o=(e||i.parse)(o)),this[t]=o;break;case"port":this[t]=o,s(o,this.protocol)?o&&(this.host=this.hostname+":"+o):(this.host=this.hostname,this[t]="");break;case"hostname":this[t]=o,this.port&&(o+=":"+this.port),this.host=o;break;case"host":this[t]=o,/:\d+$/.test(o)?(o=o.split(":"),this.port=o.pop(),this.hostname=o.join(":")):(this.hostname=o,this.port="");break;case"protocol":this.protocol=o.toLowerCase(),this.slashes=!e;break;case"pathname":case"hash":if(o){var r="pathname"===t?"/":"#";this[t]=o.charAt(0)!==r?r+o:o}else this[t]=o;break;default:this[t]=o}for(var n=0;n<a.length;n++){var h=a[n];h[4]&&(this[h[1]]=this[h[1]].toLowerCase())}return this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var o,e=this.protocol;e&&":"!==e.charAt(e.length-1)&&(e+=":");var s=e+(this.slashes?"//":"");return this.username&&(s+=this.username,this.password&&(s+=":"+this.password),s+="@"),s+=this.host+this.pathname,(o="object"==typeof this.query?t(this.query):this.query)&&(s+="?"!==o.charAt(0)?"?"+o:o),this.hash&&(s+=this.hash),s}},l.extractProtocol=c,l.location=p,l.qs=i,o.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:1,"requires-port":2}],4:[function(t,o,e){const s=t("url-parse");PNotify.prototype.options.addclass="stack-bottomright",PNotify.prototype.options.buttons.closer_hover=!1,PNotify.prototype.options.delay=5e3,PNotify.prototype.options.desktop={desktop:!0,icon:"images/ico/favicon-120.png"},PNotify.prototype.options.hide=!0,PNotify.prototype.options.history=!1,PNotify.prototype.options.shadow=!1,PNotify.prototype.options.stack={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25},PNotify.prototype.options.styling="jqueryui",PNotify.prototype.options.width="340px",PNotify.desktop.permission();const i=(t,o,e,s)=>{new PNotify({type:t,title:o,desktop:{tag:s},text:String(e).replace(/<br[\s/]*(?:\s[^>]*)?>/gi,"\n").replace(/<[/]?b(?:\s[^>]*)?>/gi,"*").replace(/<i(?:\s[^>]*)?>/gi,"[").replace(/<[/]i>/gi,"]").replace(/<(?:[/]?ul|\/li)(?:\s[^>]*)?>/gi,"").replace(/<li(?:\s[^>]*)?>/gi,"\n* ")})};window.addEventListener("build",t=>{"medusa config loaded"===t.detail&&(async()=>{const t="https:"===window.location.protocol?"wss:":"ws:",o=new s("ws/ui",$("base").attr("href").replace(window.location.protocol,t)),e=new WebSocket(o.toString());e.onmessage=(t=>{let o;try{o=JSON.parse(t.data)}catch(e){o=t.data}"notification"===o.event?i(o.data.type,o.data.title,o.data.body,o.data.hash):i("info","",o)}),e.onerror=(()=>{log.warn("Error connecting to websocket. Please check your network connection. If you are using a reverse proxy, please take a look at our wiki for config examples."),i("notice","Error connecting to websocket.","Please check your network connection. If you are using a reverse proxy, please take a look at our wiki for config examples.")})})()},!1)},{"url-parse":3}]},{},[4]);
//# sourceMappingURL=ajax-notifications.js.map
