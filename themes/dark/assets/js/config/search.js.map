{"version":3,"names":[],"mappings":"","sources":["js/config/search.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nMEDUSA.config.search = function () {\n    $('#config-components').tabs();\n    $('#nzb_dir').fileBrowser({ title: 'Select .nzb black hole/watch location' });\n    $('#torrent_dir').fileBrowser({ title: 'Select .torrent black hole/watch location' });\n    $('#torrent_path').fileBrowser({ title: 'Select .torrent download location' });\n    $('#torrent_seed_location').fileBrowser({ title: 'Select Post-Processed seeding torrents location' });\n\n    $.fn.nzbMethodHandler = function () {\n        const selectedProvider = $('#nzb_method :selected').val();\n        const blackholeSettings = '#blackhole_settings';\n        const sabnzbdSettings = '#sabnzbd_settings';\n        const testSABnzbd = '#testSABnzbd';\n        const testSABnzbdResult = '#testSABnzbd_result';\n        const testNZBget = '#testNZBget';\n        const testNZBgetResult = '#testNZBgetResult';\n        const nzbgetSettings = '#nzbget_settings';\n\n        $('#nzb_method_icon').removeClass((index, css) => {\n            return (css.match(/(^|\\s)add-client-icon-\\S+/g) || []).join(' ');\n        });\n        $('#nzb_method_icon').addClass('add-client-icon-' + selectedProvider.replace('_', '-'));\n\n        $(blackholeSettings).hide();\n        $(sabnzbdSettings).hide();\n        $(testSABnzbd).hide();\n        $(testSABnzbdResult).hide();\n        $(nzbgetSettings).hide();\n        $(testNZBget).hide();\n        $(testNZBgetResult).hide();\n\n        if (selectedProvider.toLowerCase() === 'blackhole') {\n            $(blackholeSettings).show();\n        } else if (selectedProvider.toLowerCase() === 'nzbget') {\n            $(nzbgetSettings).show();\n            $(testNZBget).show();\n            $(testNZBgetResult).show();\n        } else {\n            $(sabnzbdSettings).show();\n            $(testSABnzbd).show();\n            $(testSABnzbdResult).show();\n        }\n    };\n\n    $.torrentMethodHandler = function () {\n        $('#options_torrent_clients').hide();\n        $('#options_torrent_blackhole').hide();\n\n        const selectedProvider = $('#torrent_method :selected').val();\n        const host = ' host:port';\n        const username = ' username';\n        const password = ' password';\n        let client = '';\n        let optionPanel = '#options_torrent_blackhole';\n        const rpcurl = ' RPC URL';\n\n        $('#torrent_method_icon').removeClass((index, css) => {\n            return (css.match(/(^|\\s)add-client-icon-\\S+/g) || []).join(' ');\n        });\n        $('#torrent_method_icon').addClass('add-client-icon-' + selectedProvider.replace('_', '-'));\n\n        if (selectedProvider.toLowerCase() !== 'blackhole') {\n            $('#label_warning_deluge').hide();\n            $('#label_anime_warning_deluge').hide();\n            $('#host_desc_torrent').show();\n            $('#torrent_verify_cert_option').hide();\n            $('#torrent_verify_deluge').hide();\n            $('#torrent_verify_rtorrent').hide();\n            $('#torrent_auth_type_option').hide();\n            $('#torrent_path_option').show();\n            $('#torrent_path_option').find('.fileBrowser').show();\n            $('#torrent_seed_location_option').hide();\n            $('#torrent_seed_time_option').hide();\n            $('#torrent_high_bandwidth_option').hide();\n            $('#torrent_label_option').show();\n            $('#torrent_label_anime_option').show();\n            $('#path_synology').hide();\n            $('#torrent_paused_option').show();\n            $('#torrent_rpcurl_option').hide();\n\n            if (selectedProvider.toLowerCase() === 'utorrent') {\n                client = 'uTorrent';\n                $('#torrent_path_option').hide();\n                $('#torrent_seed_time_label').text('Minimum seeding time is');\n                $('#torrent_seed_time_option').show();\n                $('#host_desc_torrent').text('URL to your uTorrent client (e.g. http://localhost:8000)');\n                $('#torrent_seed_location_option').hide();\n            } else if (selectedProvider.toLowerCase() === 'transmission') {\n                client = 'Transmission';\n                $('#torrent_seed_time_label').text('Stop seeding when inactive for');\n                $('#torrent_seed_time_option').show();\n                $('#torrent_high_bandwidth_option').show();\n                $('#torrent_label_option').hide();\n                $('#torrent_label_anime_option').hide();\n                $('#torrent_rpcurl_option').show();\n                $('#host_desc_torrent').text('URL to your Transmission client (e.g. http://localhost:9091)');\n                $('#torrent_seed_location_option').show();\n            } else if (selectedProvider.toLowerCase() === 'deluge') {\n                client = 'Deluge';\n                $('#torrent_verify_cert_option').show();\n                $('#torrent_verify_deluge').show();\n                $('#torrent_verify_rtorrent').hide();\n                $('#label_warning_deluge').show();\n                $('#label_anime_warning_deluge').show();\n                $('#torrent_username_option').hide();\n                $('#torrent_username').prop('value', '');\n                $('#host_desc_torrent').text('URL to your Deluge client (e.g. http://localhost:8112)');\n                $('#torrent_seed_location_option').show();\n            } else if (selectedProvider.toLowerCase() === 'deluged') {\n                client = 'Deluge';\n                $('#torrent_verify_cert_option').hide();\n                $('#torrent_verify_deluge').hide();\n                $('#torrent_verify_rtorrent').hide();\n                $('#label_warning_deluge').show();\n                $('#label_anime_warning_deluge').show();\n                $('#torrent_username_option').show();\n                $('#host_desc_torrent').text('IP or Hostname of your Deluge Daemon (e.g. scgi://localhost:58846)');\n                $('#torrent_seed_location_option').show();\n            } else if (selectedProvider.toLowerCase() === 'download_station') {\n                client = 'Synology DS';\n                $('#torrent_label_option').hide();\n                $('#torrent_label_anime_option').hide();\n                $('#torrent_paused_option').hide();\n                $('#torrent_path_option').find('.fileBrowser').hide();\n                $('#host_desc_torrent').text('URL to your Synology DS client (e.g. http://localhost:5000)');\n                $('#path_synology').show();\n                $('#torrent_seed_location_option').hide();\n            } else if (selectedProvider.toLowerCase() === 'rtorrent') {\n                client = 'rTorrent';\n                $('#torrent_paused_option').hide();\n                $('#host_desc_torrent').text('URL to your rTorrent client (e.g. scgi://localhost:5000 <br> or https://localhost/rutorrent/plugins/httprpc/action.php)');\n                $('#torrent_verify_cert_option').show();\n                $('#torrent_verify_deluge').hide();\n                $('#torrent_verify_rtorrent').show();\n                $('#torrent_auth_type_option').show();\n                $('#torrent_seed_location_option').hide();\n            } else if (selectedProvider.toLowerCase() === 'qbittorrent') {\n                client = 'qbittorrent';\n                $('#torrent_path_option').hide();\n                $('#label_warning_qbittorrent').show();\n                $('#label_anime_warning_qbittorrent').show();\n                $('#host_desc_torrent').text('URL to your qbittorrent client (e.g. http://localhost:8080)');\n                $('#torrent_seed_location_option').hide();\n            } else if (selectedProvider.toLowerCase() === 'mlnet') {\n                client = 'mlnet';\n                $('#torrent_path_option').hide();\n                $('#torrent_label_option').hide();\n                $('#torrent_verify_cert_option').hide();\n                $('#torrent_verify_deluge').hide();\n                $('#torrent_verify_rtorrent').hide();\n                $('#torrent_label_anime_option').hide();\n                $('#torrent_paused_option').hide();\n                $('#host_desc_torrent').text('URL to your MLDonkey (e.g. http://localhost:4080)');\n                $('#torrent_seed_location_option').hide();\n            }\n            $('#host_title').text(client + host);\n            $('#username_title').text(client + username);\n            $('#password_title').text(client + password);\n            $('#torrent_client, #torrent_client_seed_path').text(client);\n            $('#rpcurl_title').text(client + rpcurl);\n            optionPanel = '#options_torrent_clients';\n        }\n        $(optionPanel).show();\n    };\n\n    $('#torrent_host').on('input', () => {\n        if ($('#torrent_method :selected').val().toLowerCase() === 'rtorrent') {\n            const hostname = $('#torrent_host').val();\n            const isMatch = hostname.substr(0, 7) === 'scgi://';\n\n            if (isMatch) {\n                $('#torrent_username_option').hide();\n                $('#torrent_username').prop('value', '');\n                $('#torrent_password_option').hide();\n                $('#torrent_password').prop('value', '');\n                $('#torrent_auth_type_option').hide();\n                $('#torrent_auth_type option[value=none]').prop('selected', true);\n            } else {\n                $('#torrent_username_option').show();\n                $('#torrent_password_option').show();\n                $('#torrent_auth_type_option').show();\n            }\n        }\n    });\n\n    $('#nzb_method').on('change', $(this).nzbMethodHandler);\n\n    $(this).nzbMethodHandler();\n\n    $('#testSABnzbd').on('click', () => {\n        const sab = {};\n        $('#testSABnzbd_result').html(MEDUSA.config.loading);\n        sab.host = $('#sab_host').val();\n        sab.username = $('#sab_username').val();\n        sab.password = $('#sab_password').val();\n        sab.apiKey = $('#sab_apikey').val();\n\n        $.get('home/testSABnzbd', {\n            host: sab.host,\n            username: sab.username,\n            password: sab.password,\n            apikey: sab.apiKey\n        }, data => {\n            $('#testSABnzbd_result').html(data);\n        });\n    });\n\n    $('#testNZBget').on('click', () => {\n        const nzbget = {};\n        $('#testNZBget_result').html(MEDUSA.config.loading);\n        nzbget.host = $('#nzbget_host').val();\n        nzbget.username = $('#nzbget_username').val();\n        nzbget.password = $('#nzbget_password').val();\n        nzbget.useHttps = $('#nzbget_use_https').prop('checked');\n\n        $.get('home/testNZBget', {\n            host: nzbget.host,\n            username: nzbget.username,\n            password: nzbget.password,\n            use_https: nzbget.useHttps // eslint-disable-line camelcase\n        }, data => {\n            $('#testNZBget_result').html(data);\n        });\n    });\n\n    $('#torrent_method').on('change', $.torrentMethodHandler);\n\n    $.torrentMethodHandler();\n\n    $('#test_torrent').on('click', () => {\n        const torrent = {};\n        $('#test_torrent_result').html(MEDUSA.config.loading);\n        torrent.method = $('#torrent_method :selected').val();\n        torrent.host = $('#torrent_host').val();\n        torrent.username = $('#torrent_username').val();\n        torrent.password = $('#torrent_password').val();\n\n        $.get('home/testTorrent', {\n            torrent_method: torrent.method, // eslint-disable-line camelcase\n            host: torrent.host,\n            username: torrent.username,\n            password: torrent.password\n        }, data => {\n            $('#test_torrent_result').html(data);\n        });\n    });\n};\n\n},{}]},{},[1]);\n"],"file":"search.js"}