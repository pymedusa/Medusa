{"version":3,"sources":["webpack:///./src/index.js"],"names":["__webpack_require__","r","__webpack_exports__","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","vue__WEBPACK_IMPORTED_MODULE_4__","vuex__WEBPACK_IMPORTED_MODULE_5__","vue_meta__WEBPACK_IMPORTED_MODULE_6__","vue_meta__WEBPACK_IMPORTED_MODULE_6___default","vue_router__WEBPACK_IMPORTED_MODULE_7__","vue_native_websocket__WEBPACK_IMPORTED_MODULE_8__","vue_native_websocket__WEBPACK_IMPORTED_MODULE_8___default","vue_async_computed__WEBPACK_IMPORTED_MODULE_9__","vue_async_computed__WEBPACK_IMPORTED_MODULE_9___default","vue_js_toggle_button__WEBPACK_IMPORTED_MODULE_10__","vue_js_toggle_button__WEBPACK_IMPORTED_MODULE_10___default","vue_snotify__WEBPACK_IMPORTED_MODULE_11__","vue_truncate_collapsed__WEBPACK_IMPORTED_MODULE_12__","axios__WEBPACK_IMPORTED_MODULE_13__","axios__WEBPACK_IMPORTED_MODULE_13___default","lodash_debounce__WEBPACK_IMPORTED_MODULE_14__","lodash_debounce__WEBPACK_IMPORTED_MODULE_14___default","_store__WEBPACK_IMPORTED_MODULE_15__","_router__WEBPACK_IMPORTED_MODULE_16__","_utils__WEBPACK_IMPORTED_MODULE_17__","_api__WEBPACK_IMPORTED_MODULE_18__","_components__WEBPACK_IMPORTED_MODULE_19__","window","isDevelopment","$","a","jQuery","Vue","Vuex","VueMeta","VueRouter","VueNativeSock","AsyncComputed","ToggleButton","Snotify","Truncate","axios","_","debounce","store","router","apiRoute","apiv1","api","MEDUSA","common","config","home","manage","addShows","webRoot","apiKey","apiRoot","components","push","UTIL","exec","controller","action","ns","undefined","init","startVue","removeAttr","body","document","each","asset","this","attr","show","path","tagName","toLowerCase","defaultPath","getAttribute","dispatchEvent","Event","fn","extend","addRemoveWarningClass","removeClass","addClass","pathname","location","includes","get","then","response","data","themeSpinner","themeName","loading","navigator","userAgent","indexOf","ready","indexers","indexerIdToName","indexerId","Object","keys","filter","indexer","id","parseInt","name","nameToIndexerId","catch","error","console","debug","alert"],"mappings":"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","file":"js/index.js","sourcesContent":["import $ from 'jquery';\nimport 'bootstrap'; // eslint-disable-line import/no-unassigned-import\nimport 'bootstrap/dist/css/bootstrap.min.css'; // eslint-disable-line import/no-unassigned-import\nimport './css/open-sans.css'; // eslint-disable-line import/no-unassigned-import\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport VueMeta from 'vue-meta';\nimport VueRouter from 'vue-router';\nimport VueNativeSock from 'vue-native-websocket';\nimport AsyncComputed from 'vue-async-computed';\nimport ToggleButton from 'vue-js-toggle-button';\nimport Snotify from 'vue-snotify';\nimport Truncate from 'vue-truncate-collapsed';\nimport axios from 'axios';\nimport debounce from 'lodash/debounce';\nimport store from './store';\nimport router from './router';\nimport { isDevelopment } from './utils';\nimport { apiRoute, apiv1, api, webRoot, apiKey } from './api';\nimport {\n    AnidbReleaseGroupUi,\n    AppHeader,\n    AppLink,\n    Asset,\n    Backstretch,\n    DisplayShow,\n    FileBrowser,\n    Home,\n    LanguageSelect,\n    ManualPostProcess,\n    NamePattern,\n    PlotInfo,\n    RootDirs,\n    ScrollButtons,\n    SelectList,\n    ShowSelector,\n    SnatchSelection,\n    Status\n} from './components';\n\nif (window) {\n    window.isDevelopment = isDevelopment;\n\n    // Adding libs to window so mako files can use them\n    window.$ = $;\n    window.jQuery = $;\n    window.Vue = Vue;\n    window.Vuex = Vuex;\n    window.VueMeta = VueMeta;\n    window.VueRouter = VueRouter;\n    window.VueNativeSock = VueNativeSock;\n    window.AsyncComputed = AsyncComputed;\n    window.ToggleButton = ToggleButton;\n    window.Snotify = Snotify;\n    window.Truncate = Truncate;\n    window.axios = axios;\n    window._ = { debounce };\n    window.store = store;\n    window.router = router;\n    window.apiRoute = apiRoute;\n    window.apiv1 = apiv1;\n    window.api = api;\n\n    window.MEDUSA = {\n        common: {},\n        config: {},\n        home: {},\n        manage: {},\n        addShows: {}\n    };\n    window.webRoot = webRoot;\n    window.apiKey = apiKey;\n    window.apiRoot = webRoot + '/api/v2/';\n\n    // Push pages that load via a vue file but still use `el` for mounting\n    window.components = [];\n    window.components.push(AnidbReleaseGroupUi);\n    window.components.push(AppHeader);\n    window.components.push(AppLink);\n    window.components.push(Asset);\n    window.components.push(Backstretch);\n    window.components.push(DisplayShow);\n    window.components.push(FileBrowser);\n    window.components.push(Home);\n    window.components.push(LanguageSelect);\n    window.components.push(ManualPostProcess);\n    window.components.push(NamePattern);\n    window.components.push(PlotInfo);\n    window.components.push(RootDirs);\n    window.components.push(ScrollButtons);\n    window.components.push(SelectList);\n    window.components.push(ShowSelector);\n    window.components.push(SnatchSelection);\n    window.components.push(Status);\n}\nconst UTIL = {\n    exec(controller, action) {\n        const ns = MEDUSA;\n        action = (action === undefined) ? 'init' : action;\n\n        if (controller !== '' && ns[controller] && typeof ns[controller][action] === 'function') {\n            ns[controller][action]();\n        }\n    },\n    init() {\n        if (typeof startVue === 'function') { // eslint-disable-line no-undef\n            startVue(); // eslint-disable-line no-undef\n        } else {\n            $('[v-cloak]').removeAttr('v-cloak');\n        }\n\n        const { body } = document;\n        $('[asset]').each(function() {\n            const asset = $(this).attr('asset');\n            const show = $(this).attr('series');\n            const path = apiRoot + 'series/' + show + '/asset/' + asset + '?api_key=' + apiKey;\n            if (this.tagName.toLowerCase() === 'img') {\n                const defaultPath = $(this).attr('src');\n                if ($(this).attr('lazy') === 'on') {\n                    $(this).attr('data-original', path);\n                } else {\n                    $(this).attr('src', path);\n                }\n                $(this).attr('onerror', 'this.src = \"' + defaultPath + '\"; return false;');\n            }\n            if (this.tagName.toLowerCase() === 'a') {\n                $(this).attr('href', path);\n            }\n        });\n        const controller = body.getAttribute('data-controller');\n        const action = body.getAttribute('data-action');\n\n        UTIL.exec('common'); // Load common\n        UTIL.exec(controller); // Load MEDUSA[controller]\n        UTIL.exec(controller, action); // Load MEDUSA[controller][action]\n\n        window.dispatchEvent(new Event('medusa-loaded'));\n    }\n};\n\n$.fn.extend({\n    addRemoveWarningClass(_) {\n        if (_) {\n            return $(this).removeClass('warning');\n        }\n        return $(this).addClass('warning');\n    }\n});\n\nconst { pathname } = window.location;\nif (!pathname.includes('/login') && !pathname.includes('/apibuilder')) {\n    api.get('config/main').then(response => {\n        $.extend(MEDUSA.config, response.data);\n        MEDUSA.config.themeSpinner = MEDUSA.config.themeName === 'dark' ? '-dark' : '';\n        MEDUSA.config.loading = '<img src=\"images/loading16' + MEDUSA.config.themeSpinner + '.gif\" height=\"16\" width=\"16\" />';\n\n        if (navigator.userAgent.indexOf('PhantomJS') === -1) {\n            $(document).ready(UTIL.init);\n        }\n\n        MEDUSA.config.indexers.indexerIdToName = indexerId => {\n            if (!indexerId) {\n                return '';\n            }\n            return Object.keys(MEDUSA.config.indexers.config.indexers).filter(indexer => { // eslint-disable-line array-callback-return\n                if (MEDUSA.config.indexers.config.indexers[indexer].id === parseInt(indexerId, 10)) {\n                    return MEDUSA.config.indexers.config.indexers[indexer].name;\n                }\n            })[0];\n        };\n\n        MEDUSA.config.indexers.nameToIndexerId = name => {\n            if (!name) {\n                return '';\n            }\n            return MEDUSA.config.indexers.config.indexers[name];\n        };\n    }).catch(error => {\n        console.debug(error);\n        alert('Unable to connect to Medusa!'); // eslint-disable-line no-alert\n    });\n}\n"],"sourceRoot":""}